# 음식점 추천 시스템 개발 및 웹사이트 구현

(Restaurant Recommendation System and Web Service: Cosine Similarity Analysis using Vectorized Blog Reviews and Restaurant Categories)

<img width="600" alt="스크린샷 2024-05-03 오후 2 08 53" src="https://github.com/PARKYUNSU/recom/assets/125172299/5c8d73c9-b60b-4414-b5c8-df7fd03559f3">

## 프로젝트 개요

이 프로젝트는 서울 강서구의 다양한 음식점 중에서 사용자에게 최적의 음식점을 추천해주는 웹사이트를 개발하는 것을 목표로 합니다.

기존의 네이버 지도에서는 사용자가 검색한 음식점만 나오지만, 이 웹사이트는 사용자가 음식점 이름이나 음식명을 입력하면 유사한 음식점을 추천해줍니다. 또한 각 음식점의 리뷰 수와 평점을 확인할 수 있습니다.

### [프로젝트 영상 링크](https://drive.google.com/file/d/1mPmaf6cKyTPze_lqPqVrE8Bl4UpLeA7Y/view?usp=sharing)

<img width="700" alt="스크린샷 2024-05-03 오후 1 16 48" src="https://github.com/PARKYUNSU/recom/assets/125172299/c13282cf-79ee-45f3-8351-b1cd5e7987c4">


## 주요 기능

- 음식점 추천 기능: 사용자가 입력한 음식점 이름 또는 음식명과 유사한 음식점을 추천합니다. 벡터화된 블로그 리뷰와 음식점 업태를 기반으로 코사인 유사도 분석을 수행하여 추천합니다.
- 지도 시각화 기능: Folium을 사용하여 강서구 지도를 웹사이트에 표시하고, 사용자가 선택한 음식점의 위치를 지도에 마커로 표시합니다.
- 네이버지도 연동 기능: 사용자가 선택한 음식점의 정보를 바탕으로 네이버지도에서 해당 음식점의 위치를 확인할 수 있도록 링크를 제공합니다.

## 기술 스택

### DB

- SQLlite
- DBeaver

### Backend

- Python (Flask)
- METABASE
- API
- Selenium

### Deploy

- AWS EC2
- Docker

## 시스템 아키텍처

<img width="500" alt="그림1" src="https://github.com/PARKYUNSU/recom/assets/125172299/948a33cd-39d0-4667-853e-a08cbd18d99b">

---

## SUMMARY

이 서비스는 서울 강서구의 다양한 음식점 중에서 사용자에게 최적의 음식점을 추천해주는 웹사이트를 개발하는 것을 목표로 합니다. 사용자는 음식점 이름이나 음식명을 입력하여 유사한 음식점을 추천받을 수 있으며, 각 음식점의 리뷰 수와 평점 등을 확인할 수 있습니다.

### 목적

20 몇 년을 서울 강서구에서 살면서, 많은 음식점 방문과 음식을 먹어봤지만, 항상 헷갈리고 선택이 어려운 것이 음식점 고르기 였습니다. 매번 가는 곳만 갈수 없기에 한번도 안 가본 음식점을 갈 때 우연치 않게 좋은 음식점을 발견할 수도 있었지만, 그렇지 않은 경우가 종종 있었습니다. 이러한 경험을 토대로 이번 프로젝트에서는 사용자가 가봤던 음식점과 비슷한 음식점을 입력하면 비슷한 음식점을 추천하거나, 음식명을 입력하면 많은 리뷰와 평점이 좋은 가게를 추천하여 지도에 표시하는 웹사이트를 개발하고자 합니다.

### 개발 내용

1. **데이터 수집 및 전처리**
    - 공공데이터포털의 OPEN API를 활용하여 서울 강서구의 음식점 데이터를 수집하였습니다.
    - 수집한 데이터에 대해 네이버지도를 활용하여 가게명과 동 정보를 추가로 스크랩핑하여 업태, 방문객 리뷰 수, 블로그 리뷰 수, 블로그 리뷰 텍스트 데이터를 수집하였습니다.
    - 수집한 데이터는 SQLite에 저장하였고, DBeaver를 이용하여 관리하였습니다.

2. **데이터 분석 및 모델링**
    - METABASE를 이용하여 EDA를 진행하였습니다.
    - 블로그 리뷰와 음식점 업태를 벡터라이징하여 코사인 유사도 분석을 수행하여 모델을 생성하였습니다.

**코사인 유사도**

![코사인유사도](https://github.com/PARKYUNSU/recom/assets/125172299/4326e70b-b601-4aef-9c8c-5d1428d174fc)

코사인 유사도는 두 벡터 간의 코사인 각도를 이용하여 구할 수 있는 두 벡터의 유사도를 나타내는 지표입니다. 이 프로젝트에서는 블로그 리뷰와 음식점 업태를 벡터화하여 코사인 유사도를 계산하여 모델을 생성하였습니다.

두 음식점의 정보를 벡터로 표현하고, 이를 기반으로 각 음식점 간의 유사도를 계산합니다. 코사인 유사도는 두 벡터의 방향이 얼마나 유사한지를 측정하는 지표로, 두 벡터가 완전히 동일한 경우 1의 값을 가지며, 90°의 각을 이루면 0, 180°로 반대의 방향을 가지면 -1의 값을 갖게 됩니다.

이를 통해 유사한 음식점을 추천하는 시스템을 구현할 수 있으며, 코사인 유사도가 1에 가까울수록 음식점 간의 유사도가 높다고 판단할 수 있습니다.



두 벡터 A, B에 대해서 코사인 유사도는 식으로 표현하면 다음과 같습니다.

<img width="571" alt="스크린샷 2024-05-03 오후 2 43 52" src="https://github.com/PARKYUNSU/recom/assets/125172299/1c999a83-8ab3-473a-b346-c1a8b5d88fe1">



3. **웹사이트 개발**
    - Flask를 사용하여 백엔드를 개발하였습니다.
    - 사용자가 입력한 가게명과 유사한 가게명을 코사인 유사도로 분석하여 출력되게 설정하였으며, 출력된 가게명 정보를 지도에 PIN MARKER로 표시하고, 네이버지도로 이동할 수 있는 기능을 추가하였습니다.
    - AWS EC2 가상환경을 생성하고 웹사이트를 배포하였습니다.

### 회고

- 웹 크롤링 시간이 너무 길어서 프로세스 최적화가 필요합니다. 현재는 2번의 크롤링 과정으로 인해 약 10시간이 소요되고 있습니다.
- 데이터 전처리 과정이 어려웠으며, 특히 업태 명이 통일되지 않은 경우가 있어 이를 해결하기 위한 전처리 함수를 개발할 필요가 있습니다.
- 사용한 모델을 개선하여 검색이 더욱 다양한 음식명에 대해 정확한 결과를 반환할 수 있도록 할 필요가 있습니다.
